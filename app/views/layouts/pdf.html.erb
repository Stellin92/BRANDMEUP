<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title><%= content_for?(:title) ? yield(:title) : "Outfit" %></title>

  <!-- Polices (optionnel) -->
  <link href="https://fonts.googleapis.com/css2?family=Belleza&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <%# Charge la CSS par 3 voies possibles (prod -> dev -> fichier brut) %>
  <% css_text =
      if defined?(WickedPdfAssets) && WickedPdfAssets.respond_to?(:read_asset)
        WickedPdfAssets.read_asset('pdf.css') # manifeste / pipeline (prod Heroku)
      elsif Rails.application.respond_to?(:assets) && Rails.application.assets
        (Rails.application.assets['pdf.css']&.source || Rails.application.assets['pdf.css']&.to_s)
      else
        File.read(Rails.root.join('app','assets','stylesheets','pdf.css')) rescue ''
      end
  %>
  <style><%= raw css_text %></style>
</head>
<body class="pdf">
  <%= yield %>
</body>
</html>
